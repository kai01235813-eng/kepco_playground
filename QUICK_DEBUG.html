<!DOCTYPE html>
<html>
<head>
  <title>API ë””ë²„ê¹…</title>
  <style>
    body {
      font-family: monospace;
      padding: 20px;
      background: #1a1a1a;
      color: #fff;
    }
    .result {
      background: #2a2a2a;
      padding: 10px;
      margin: 10px 0;
      border-radius: 4px;
    }
    button {
      background: #38bdf8;
      color: #000;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      margin: 5px;
    }
    button:hover {
      background: #22d3ee;
    }
  </style>
</head>
<body>
  <h1>ğŸ” API ë””ë²„ê¹… ë„êµ¬</h1>
  
  <div>
    <button onclick="checkApiUrl()">1. API URL í™•ì¸</button>
    <button onclick="testRailway()">2. Railway ì„œë²„ í…ŒìŠ¤íŠ¸</button>
    <button onclick="testSignup()">3. íšŒì›ê°€ì… í…ŒìŠ¤íŠ¸</button>
  </div>
  
  <div id="results"></div>

  <script type="module">
    window.checkApiUrl = () => {
      const apiBase = import.meta.env?.VITE_API_BASE || 'http://localhost:4000/api';
      const result = document.getElementById('results');
      result.innerHTML += `<div class="result">
        <strong>ğŸ”— API URL:</strong> ${apiBase}<br>
        <strong>í™˜ê²½ ë³€ìˆ˜:</strong> ${import.meta.env?.VITE_API_BASE ? 'âœ… ì„¤ì •ë¨' : 'âŒ ë¯¸ì„¤ì • (localhost ì‚¬ìš©)'}
      </div>`;
      console.log('ğŸ”— API_BASE:', apiBase);
    };

    window.testRailway = async () => {
      const apiBase = import.meta.env?.VITE_API_BASE || 'http://localhost:4000/api';
      const result = document.getElementById('results');
      
      try {
        const response = await fetch(apiBase.replace('/api', ''));
        result.innerHTML += `<div class="result">
          <strong>ğŸš‚ Railway ì„œë²„ í…ŒìŠ¤íŠ¸:</strong><br>
          Status: ${response.status}<br>
          âœ… ì„œë²„ ì—°ê²° ì„±ê³µ
        </div>`;
      } catch (error) {
        result.innerHTML += `<div class="result">
          <strong>ğŸš‚ Railway ì„œë²„ í…ŒìŠ¤íŠ¸:</strong><br>
          âŒ ì—°ê²° ì‹¤íŒ¨: ${error.message}
        </div>`;
        console.error('Railway ì—°ê²° ì‹¤íŒ¨:', error);
      }
    };

    window.testSignup = async () => {
      const apiBase = import.meta.env?.VITE_API_BASE || 'http://localhost:4000/api';
      const result = document.getElementById('results');
      
      try {
        const response = await fetch(`${apiBase}/auth/signup`, {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify({
            employeeId: 'test' + Date.now(),
            password: 'test123',
            name: 'í…ŒìŠ¤íŠ¸'
          })
        });
        
        const data = await response.json();
        result.innerHTML += `<div class="result">
          <strong>ğŸ“ íšŒì›ê°€ì… í…ŒìŠ¤íŠ¸:</strong><br>
          Status: ${response.status}<br>
          Response: ${JSON.stringify(data, null, 2)}
        </div>`;
      } catch (error) {
        result.innerHTML += `<div class="result">
          <strong>ğŸ“ íšŒì›ê°€ì… í…ŒìŠ¤íŠ¸:</strong><br>
          âŒ ì—ëŸ¬: ${error.message}
        </div>`;
        console.error('íšŒì›ê°€ì… í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨:', error);
      }
    };
  </script>
</body>
</html>

